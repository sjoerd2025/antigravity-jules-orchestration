{
  "id": "scheduled-gemini-session",
  "name": "Scheduled Gemini Session",
  "description": "Create persistent scheduled tasks that trigger Gemini coding sessions via Temporal Agent MCP",
  "integration": {
    "temporal_agent": {
      "baseUrl": "${TEMPORAL_AGENT_URL:-http://localhost:3324}",
      "baseUrlProduction": "https://temporal-agent-mcp.onrender.com",
      "tool": "schedule_recurring"
    },
    "gemini_orchestration": {
      "baseUrl": "${GEMINI_ORCHESTRATION_URL:-http://localhost:3323}",
      "baseUrlProduction": "https://scarmonit.com",
      "endpoint": "/api/gemini/create"
    }
  },
  "examples": [
    {
      "name": "Weekly Dependency Update",
      "schedule": {
        "cron": "0 9 * * 1",
        "timezone": "America/New_York",
        "description": "Every Monday at 9 AM EST"
      },
      "gemini_task": {
        "repository": "{{owner}}/{{repo}}",
        "task": "Update all dependencies to latest secure versions. Run tests. Create PR.",
        "autoApprove": false
      }
    },
    {
      "name": "Daily Code Quality Check",
      "schedule": {
        "cron": "0 6 * * *",
        "timezone": "UTC",
        "description": "Every day at 6 AM UTC"
      },
      "gemini_task": {
        "repository": "{{owner}}/{{repo}}",
        "task": "Run static analysis, check for code smells, suggest refactoring. Report findings.",
        "autoApprove": false
      }
    },
    {
      "name": "PR Status Monitor",
      "schedule": {
        "cron": "*/30 * * * *",
        "timezone": "UTC",
        "description": "Every 30 minutes"
      },
      "gemini_task": {
        "repository": "{{owner}}/{{repo}}",
        "task": "Check open PRs. Merge any that have passing CI and approvals. Report summary.",
        "autoApprove": true
      }
    }
  ],
  "usage": {
    "create_scheduled_task": {
      "endpoint_local": "POST http://localhost:3324/mcp/execute",
      "endpoint_production": "POST https://temporal-agent-mcp.onrender.com/mcp/execute",
      "body": {
        "tool": "schedule_recurring",
        "params": {
          "name": "weekly-dependency-update",
          "cron_expression": "0 9 * * 1",
          "timezone": "America/New_York",
          "payload": {
            "action": "create_gemini_session",
            "repository": "owner/repo",
            "task": "Update dependencies"
          },
          "callback_type": "webhook",
          "callback_config": {
            "url_local": "http://localhost:3323/api/gemini/create",
            "url_production": "https://scarmonit.com/api/gemini/create",
            "method": "POST"
          }
        }
      }
    }
  }
}
